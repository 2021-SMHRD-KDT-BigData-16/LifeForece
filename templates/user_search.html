<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Case Search</title>
  <!--<script type="module" src="your-script.js"></script>-->
  <style>
    /* Tab content is initially hidden */
    .tab-content {
      display: none;
    }

    /* Style for active tab */
    .active {
      display: block;
    }
  </style>
  <script>
    //환자 검색하기
    function searchCase() {
      var pId = document.getElementById('p_id').value;
      console.log(pId)

      // Check if pId is valid
      if (pId.trim() !== "") {
        // Redirect to the user_search page with the p_id as a query parameter
        window.location.href = `/search_case?p_id=${pId}`;
        console.log(pId)
      } else {
        alert("환자 id를 확인하세요");
      }
    }
  </script>


</head>

<body>

  <div style="padding:10px;">
    <a href="/">HOME</a>
  </div>
  <!-- 검색하기 버튼-->

  <div style="margin: 20px 0">
    <input type="number" id="p_id" placeholder="P_ID">
    <button onclick="searchCase()">Search</button>
  </div>



  <!--환자 테이블 나오는 곳-->
  {% if case %}
  <div id="casetable">
    <table width="100%" border="1" cellpadding="0" cellspacing="0">
      <tr>
        <th>환자아이디</th>
        <th>LF점수</th>
        <th>SOFA점수</th>
        <th>MEWS점수</th>
        <th>코멘트</th>
        <th>추가</th>
        <th>자세히보기</th>
        <th>삭제</th>
      </tr>
      <tr>
        <td align="center" id="pid_{{case.p_id}}">{{ case.p_id }}</td>
        <td align="center">{{case.p_score}}</td>
        <td align="center">{{case.p_SOFA}}</td>
        <td align="center">{{case.p_MEWS}}</td>
        <td align="center"><input type="text" id="cmt_{{case.p_id}}" value="{{case.p_cmt}}"></td>
        <td align="center"><button onclick="putCase('{{case.p_id}}')">cmt</button></td>
        <td align="center"><a href="/cases/{{case.p_id}}"><button>보기</button></a></td>
        <td align="center"><button onclick="delCase('{{case.p_id}}')">삭제</button></td>
      </tr>
      {% else %}
      존재하지 않는 환자번호입니다.
      {% endif %}
    </table>
  </div>
</body>

</html>